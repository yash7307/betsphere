import{d as G,s as b,a as x,f as O,c as Y,t as lt}from"./D36yUUK9.js";import{p as H,c as a,r as e,s as i,t as P,a as J,f as Z,d as j,g as o,n as ct,e as X,u as dt}from"./Ce0mKzmf.js";import{s as vt,h as ut}from"./DrwrpQH_.js";import{s as mt}from"./FvBwHM7c.js";import{p as c,r as ft}from"./Cv60vv5O.js";import{f as M}from"./cWrTP72h.js";import{i as C}from"./BE6PreZr.js";import{e as pt,i as bt}from"./DQ9eD4W2.js";import{a as _t,r as xt,s as gt}from"./CtSWRFxq.js";import{b as yt}from"./CqiOFo2b.js";import{s as ht,a as kt}from"./DnrwSsvx.js";import{s as $}from"./DQAhVZKP.js";import{e as E,s as Bt,u as zt}from"./BZrj67Xi.js";import{p as wt}from"./CJSFTucO.js";var Pt=O('<button><div class="odds-value"> </div> <div class="odds-label"> </div></button>');function Ut(k,t){H(t,!0);let _=c(t,"selection",3,""),B=c(t,"odds",3,0),g=c(t,"isActive",3,!1);var n=Pt();n.__click=function(...v){var y;(y=t.onclick)==null||y.apply(this,v)};var s=a(n),r=a(s,!0);e(s);var l=i(s,2),d=a(l,!0);e(l),e(n),P(v=>{vt(n,1,`odds-btn ${g()?"active":""}`),mt(n,g()?"background:rgba(0,255,135,0.15);border-color:var(--color-primary);":""),b(r,v),b(d,_())},[()=>M.odds(B())]),x(k,n),J()}G(["click"]);var Ot=O('<div class="modal show"><div class="modal-content"><div class="modal-header"><h3> </h3> <button class="close-modal">×</button></div> <div class="modal-body"><!></div></div></div>');function At(k,t){H(t,!0);let _=c(t,"isOpen",3,!1),B=c(t,"title",3,"");function g(){t.onclose&&t.onclose()}function n(d){d.stopPropagation()}var s=Y(),r=Z(s);{var l=d=>{var v=Ot();v.__click=g;var y=a(v);y.__click=n;var z=a(y),A=a(z),N=a(A,!0);e(A);var u=i(A,2);u.__click=function(...F){var w;(w=t.onclose)==null||w.apply(this,F)},e(z);var h=i(z,2),K=a(h);$(K,()=>t.children),e(h),e(y),e(v),P(()=>b(N,B())),x(d,v)};C(r,d=>{_()&&d(l)})}x(k,s),J()}G(["click"]);var Ft=O("<button><!></button>");function jt(k,t){let _=c(t,"variant",3,"primary"),B=c(t,"size",3,"md"),g=c(t,"disabled",3,!1),n=c(t,"className",3,""),s=ft(t,["$$slots","$$events","$$legacy","variant","size","disabled","className","onclick","children"]);var r=Ft();_t(r,()=>({class:`btn btn-${_()??""} btn-${B()??""} ${n()??""}`,disabled:g(),onclick:t.onclick,...s}));var l=a(r);$(l,()=>t.children),e(r),x(k,r)}var qt=O('<button class="quick-amount-btn"> </button>'),It=O('<div style="background:rgba(0,255,135,0.1);padding:12px;border-radius:8px;margin-bottom:16px;border:1px solid rgba(0,255,135,0.3);"><div style="display:flex;justify-content:space-between;align-items:center;"><span style="font-size:14px;color:var(--color-text-secondary);">Potential Return</span> <span style="font-size:18px;font-weight:700;color:var(--color-primary);"> </span></div></div>'),Mt=O('<div style="padding:16px;"><div style="background:var(--color-background);padding:16px;border-radius:8px;margin-bottom:16px;"><div style="font-size:12px;color:var(--color-text-muted);margin-bottom:4px;"> </div> <div style="font-size:16px;font-weight:600;color:var(--color-primary);margin-bottom:8px;"> </div> <div style="display:flex;justify-content:space-between;"><span style="font-size:12px;color:var(--color-text-secondary);">Odds</span> <span style="font-size:14px;font-weight:600;"> </span></div></div> <div class="amount-input-group"><label for="stake-input">Stake Amount (₹)</label> <input id="stake-input" type="number" class="amount-input" placeholder="Enter amount" min="1"/> <div class="quick-amounts"></div></div> <!> <div style="display:flex;justify-content:space-between;margin-bottom:16px;font-size:12px;color:var(--color-text-muted);"><span>Available Balance</span> <span style="font-weight:600;"> </span></div> <!></div>');function Vt(k,t){H(t,!0);const _=()=>kt(zt,"$user",B),[B,g]=ht();let n=c(t,"isOpen",3,!1),s=c(t,"bet",3,null),r=X(""),l=X(!1),d=dt(()=>{var u;return o(r)?ut.calculateWinnings(parseFloat(o(r)),((u=s())==null?void 0:u.odds)||0):0});const v=[100,250,500,1e3];async function y(){if(!o(r)||parseFloat(o(r))<=0){E("Please enter a valid stake amount");return}if(parseFloat(o(r))>_().balance){E("Insufficient balance");return}j(l,!0);const u={matchId:s().matchId,match:s().match,league:s().league,selection:s().selection,market:s().market||"Match Winner",odds:s().odds,stake:parseFloat(o(r)),potentialReturn:o(d)},h=await wt(u);j(l,!1),h.success?(Bt(`Bet placed successfully! ${h.demo?"(Demo Mode)":""}`),j(r,""),t.onclose&&t.onclose()):E(h.error||"Failed to place bet")}var z=Y(),A=Z(z);{var N=u=>{At(u,{get isOpen(){return n()},title:"Place Bet",get onclose(){return t.onclose},children:(h,K)=>{var F=Mt(),w=a(F),R=a(w),tt=a(R,!0);e(R);var S=i(R,2),et=a(S,!0);e(S);var L=i(S,2),Q=i(a(L),2),at=a(Q,!0);e(Q),e(L),e(w);var D=i(w,2),q=i(a(D),2);xt(q);var T=i(q,2);pt(T,21,()=>v,bt,(m,f)=>{var p=qt();p.__click=()=>j(r,o(f).toString(),!0);var I=a(p);e(p),P(()=>b(I,`₹${o(f)??""}`)),x(m,p)}),e(T),e(D);var U=i(D,2);{var st=m=>{var f=It(),p=a(f),I=i(a(p),2),it=a(I,!0);e(I),e(p),e(f),P(nt=>b(it,nt),[()=>M.currency(o(d))]),x(m,f)};C(U,m=>{o(r)&&m(st)})}var W=i(U,2),V=i(a(W),2),rt=a(V,!0);e(V),e(W);var ot=i(W,2);jt(ot,{variant:"primary",size:"lg",onclick:y,get disabled(){return o(l)},style:"width:100%;",children:f=>{ct();var p=lt();P(()=>b(p,o(l)?"Placing Bet...":"Place Bet")),x(f,p)},$$slots:{default:!0}}),e(F),P((m,f)=>{b(tt,s().match),b(et,s().selection),b(at,m),gt(q,"max",_().balance),b(rt,f)},[()=>M.odds(s().odds),()=>M.currency(_().balance)]),yt(q,()=>o(r),m=>j(r,m)),x(h,F)},$$slots:{default:!0}})};C(A,u=>{s()&&u(N)})}x(k,z),J(),g()}G(["click"]);export{Vt as B,Ut as O};
