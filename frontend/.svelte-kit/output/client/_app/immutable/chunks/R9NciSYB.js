import{au as B,ak as O,a4 as D,av as F,a7 as K,aw as q,ax as Z,O as J,ay as Q,az as W,F as T,aA as X,ag as m,aB as x,aC as ss,g as as,aD as es,_ as P,aE as rs,aF as ts,aG as is}from"./DnFH8SKn.js";import{i as fs,b as us,d as os,n as ls,g as cs}from"./C9wfIlVV.js";import{c as _s,s as ns}from"./Dhn5PuYk.js";import{s as ds}from"./D3qfxYzN.js";function vs(s,a){var e=void 0,i;B(()=>{e!==(e=a())&&(i&&(O(i),i=null),e&&(i=D(()=>{F(()=>e(s))})))})}function C(s,a,e=!1){if(s.multiple){if(a==null)return;if(!K(a))return q();for(var i of s.options)i.selected=a.includes(U(i));return}for(i of s.options){var f=U(i);if(Z(f,a)){i.selected=!0;return}}(!e||a!==void 0)&&(s.selectedIndex=-1)}function hs(s){var a=new MutationObserver(()=>{C(s,s.__value)});a.observe(s,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),J(()=>{a.disconnect()})}function U(s){return"__value"in s?s.__value:s.value}const p=Symbol("class"),N=Symbol("style"),H=Symbol("is custom element"),R=Symbol("is html");function bs(s){if(T){var a=!1,e=()=>{if(!a){if(a=!0,s.hasAttribute("value")){var i=s.value;w(s,"value",null),s.value=i}if(s.hasAttribute("checked")){var f=s.checked;w(s,"checked",null),s.checked=f}}};s.__on_r=e,m(e),x()}}function ys(s,a){a?s.hasAttribute("selected")||s.setAttribute("selected",""):s.removeAttribute("selected")}function w(s,a,e,i){var f=Y(s);T&&(f[a]=s.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&s.nodeName==="LINK")||f[a]!==(f[a]=e)&&(a==="loading"&&(s[is]=e),e==null?s.removeAttribute(a):typeof e!="string"&&j(s).includes(a)?s[a]=e:s.setAttribute(a,e))}function gs(s,a,e,i,f=!1,S=!1){if(T&&f&&s.tagName==="INPUT"){var v=s,I=v.type==="checkbox"?"defaultChecked":"defaultValue";I in e||bs(v)}var h=Y(s),n=h[H],b=!h[R];let g=T&&n;g&&P(!1);var u=a||{},A=s.tagName==="OPTION";for(var d in a)d in e||(e[d]=null);e.class?e.class=_s(e.class):e[p]&&(e.class=null),e[N]&&(e.style??(e.style=null));var E=j(s);for(const r in e){let t=e[r];if(A&&r==="value"&&t==null){s.value=s.__value="",u[r]=t;continue}if(r==="class"){var k=s.namespaceURI==="http://www.w3.org/1999/xhtml";ns(s,k,t,i,a==null?void 0:a[p],e[p]),u[r]=t,u[p]=e[p];continue}if(r==="style"){ds(s,t,a==null?void 0:a[N],e[N]),u[r]=t,u[N]=e[N];continue}var c=u[r];if(!(t===c&&!(t===void 0&&s.hasAttribute(r)))){u[r]=t;var M=r[0]+r[1];if(M!=="$$")if(M==="on"){const _={},y="$$"+r;let o=r.slice(2);var L=cs(o);if(fs(o)&&(o=o.slice(0,-7),_.capture=!0),!L&&c){if(t!=null)continue;s.removeEventListener(o,u[y],_),u[y]=null}if(t!=null)if(L)s[`__${o}`]=t,os([o]);else{let z=function(G){u[r].call(this,G)};u[y]=us(o,s,z,_)}else L&&(s[`__${o}`]=void 0)}else if(r==="style")w(s,r,t);else if(r==="autofocus")rs(s,!!t);else if(!n&&(r==="__value"||r==="value"&&t!=null))s.value=s.__value=t;else if(r==="selected"&&A)ys(s,t);else{var l=r;b||(l=ls(l));var $=l==="defaultValue"||l==="defaultChecked";if(t==null&&!n&&!$)if(h[r]=null,l==="value"||l==="checked"){let _=s;const y=a===void 0;if(l==="value"){let o=_.defaultValue;_.removeAttribute(l),_.defaultValue=o,_.value=_.__value=y?o:null}else{let o=_.defaultChecked;_.removeAttribute(l),_.defaultChecked=o,_.checked=y?o:!1}}else s.removeAttribute(r);else $||E.includes(l)&&(n||typeof t!="string")?(s[l]=t,l in h&&(h[l]=ts)):typeof t!="function"&&w(s,l,t)}}}return g&&P(!0),u}function Ss(s,a,e=[],i=[],f=[],S,v=!1,I=!1){ss(f,e,i,h=>{var n=void 0,b={},g=s.nodeName==="SELECT",u=!1;if(B(()=>{var d=a(...h.map(as)),E=gs(s,n,d,S,v,I);u&&g&&"value"in d&&C(s,d.value);for(let c of Object.getOwnPropertySymbols(b))d[c]||O(b[c]);for(let c of Object.getOwnPropertySymbols(d)){var k=d[c];c.description===es&&(!n||k!==n[c])&&(b[c]&&O(b[c]),b[c]=D(()=>vs(s,()=>k))),E[c]=k}n=E}),g){var A=s;F(()=>{C(A,n.value,!0),hs(A)})}u=!0})}function Y(s){return s.__attributes??(s.__attributes={[H]:s.nodeName.includes("-"),[R]:s.namespaceURI===Q})}var V=new Map;function j(s){var a=s.getAttribute("is")||s.nodeName,e=V.get(a);if(e)return e;V.set(a,e=[]);for(var i,f=s,S=Element.prototype;S!==f;){i=X(f);for(var v in i)i[v].set&&e.push(v);f=W(f)}return e}export{Ss as a,bs as r,w as s};
